<h2 mat-dialog-title>{{ 'routes.admin.role.menu' | translate}}</h2>
<div mat-dialog-content>
  <div class="loading" *ngIf="loading; else $tree">
    <mat-spinner></mat-spinner>
  </div>
  <ng-template #$tree>
    <mat-tree [dataSource]="tree" [treeControl]="ctrl">
      <mat-tree-node *matTreeNodeDef="let node">
        <button mat-icon-button disabled></button>
        <mat-checkbox [checked]="selection.isSelected(node.data.id)" (change)="toggle(node)">{{ node.data.header | translate }}</mat-checkbox>
      </mat-tree-node>
      <mat-nested-tree-node *matTreeNodeDef="let node; when: expandable">
        <div>
          <button mat-icon-button matTreeNodeToggle>
            <mat-icon>{{ ctrl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}</mat-icon>
          </button>
          <mat-checkbox [checked]="selected(node, false)" [indeterminate]="selected(node, true)" (change)="toggle(node)">{{ node.data.header | translate }}</mat-checkbox>
        </div>
        <div class="mat-nested-tree-node-children" [@expand]="ctrl.isExpanded(node) ? 'expanded' : 'collapsed'">
          <ng-container matTreeNodeOutlet></ng-container>
        </div>
      </mat-nested-tree-node>
    </mat-tree>
  </ng-template>
</div>
<div mat-dialog-actions align="end">
  <button mat-button color="primary" (click)="save()">{{ 'shared.dialog.ok' | translate | uppercase }}</button>
  <button mat-button mat-dialog-close cdkFocusInitial>{{ 'shared.dialog.cancel' | translate | uppercase }}</button>
</div>
